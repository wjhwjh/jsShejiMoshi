<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /* 
        
         清空数组，把数组的长度设置为0
        

         棧數據結構 後進先出
         説到底還是對數組的操作
         */
        function Stack() {
            this.dataStore = [];
            this.top = 0;
            this.push = push; // 入棧操作
            this.pop = pop; // 出棧操作
            this.peek = peek; // 
            this.length = length;
            this.clear = clear;
        }
        function push(element) {
            // 每次只能push一個數據
            this.dataStore[this.top++] = element;
        }
        function pop(){
            // 這裏有兩步，返回棧頂元素以及數組長度減1，數組減少
            // pop函數的底層原理
            return this.dataStore[--this.top]
        }
        function peek() {
            return this.dataStore[this.top - 1]
        }

        function length() {
            //console.log(this.top);
            return this.top;
        }
        function clear() {
            this.top = 0 // 清楚以後返回，調用peek爲空
        }


        // 寫測試
        let s = new Stack();
        s.push('wen');
        s.push('hui');
        console.log(s.length(), s.peek(),s.pop());
        console.log(s.length(), s.peek());
        console.log(s.clear(),s.length());
        s.push('hui','zi');
        console.log(s.length(), s.peek());



        /*
         實例

        */
       // 案例1 數制簡的相互轉換
        function mulBase(num,base){
            if(!num)return '請輸入正確的數據'
            var s = new Stack();
            do{
                s.push(num%base);
                num =Math.floor(num/base);
            }while(num>0)


            var converted="";
            while(s.length()>0){
                converted += s.pop();
            }

            return converted
        }
        // 測試數據
        var num = 32;
        var base = 2;
        var newNum = mulBase(num,base);
        console.log('十進制'+num+'轉化爲'+base+'是:'+newNum);


        num = 125;
        base = 8;
        newNum = mulBase(num,base);
        console.log('十進制'+num+'轉化爲'+base+'是:'+newNum);

        num = 0;
        base = 8;
        newNum = mulBase(num,base);
        console.log('十進制'+num+'轉化爲'+base+'是:'+newNum);
        
        // 案例2. 判斷給定的一個字符是否是回文字符串
        function isPalindrome(word){
            var s = new Stack();
            for(var i=0;i<word.length;++i){
                s.push(word[i])
            }
            
            var rword = "";
            while(s.length()>0){
                rword += s.pop();
            }

            console.log('出棧后拼的數據--',rword);
            if(word == rword){
                return true
            }else{
                return false
            }

        }
        var word = 'hello';
        console.log(word +'是否是回文字符串:'+isPalindrome(word));

        word = 'racecar';
        console.log(word +'是否是回文字符串:'+isPalindrome(word));
    </script>
</body>

</html>